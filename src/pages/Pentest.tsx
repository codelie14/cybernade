import React, { useState } from 'react';
import { Link } from 'react-router-dom';

interface PentestTool {
  id: number;
  title: string;
  description: string;
  icon: React.ReactNode;
  link: string;
  category: string;
  difficulty: 'beginner' | 'intermediate' | 'advanced';
}

const Pentest: React.FC = () => {
  const [activeCategory, setActiveCategory] = useState<string>('all');
  const [activeDifficulty, setActiveDifficulty] = useState<string>('all');
  
  const tools: PentestTool[] = [
    {
      id: 1,
      title: 'Scanner de Ports',
      description: 'Analysez les ports ouverts sur un système cible pour identifier les services vulnérables.',
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
        </svg>
      ),
      link: '/pentest/port-scanner',
      category: 'reconnaissance',
      difficulty: 'beginner'
    },
    {
      id: 2,
      title: 'Analyseur de Vulnérabilités Web',
      description: 'Identifiez les vulnérabilités courantes dans les applications web comme les injections SQL et XSS.',
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
        </svg>
      ),
      link: '/pentest/web-vulnerability-scanner',
      category: 'web',
      difficulty: 'intermediate'
    },
    {
      id: 3,
      title: 'Outil de Fuzzing',
      description: 'Testez les entrées d\'application pour découvrir des vulnérabilités potentielles.',
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
      ),
      link: '/pentest/fuzzer',
      category: 'exploitation',
      difficulty: 'advanced'
    },
    {
      id: 4,
      title: 'Analyseur DNS',
      description: 'Effectuez des recherches DNS pour découvrir des sous-domaines et d\'autres informations.',
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
        </svg>
      ),
      link: '/pentest/dns-analyzer',
      category: 'reconnaissance',
      difficulty: 'beginner'
    },
    {
      id: 5,
      title: 'Générateur de Payloads',
      description: 'Créez des payloads personnalisés pour tester différents types de vulnérabilités.',
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
        </svg>
      ),
      link: '/pentest/payload-generator',
      category: 'exploitation',
      difficulty: 'intermediate'
    },
    {
      id: 6,
      title: 'Analyseur de Trafic',
      description: 'Capturez et analysez le trafic réseau pour identifier les faiblesses potentielles.',
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
        </svg>
      ),
      link: '/pentest/traffic-analyzer',
      category: 'network',
      difficulty: 'advanced'
    },
    {
      id: 7,
      title: 'Craqueur de Mots de Passe',
      description: 'Testez la force des mots de passe en utilisant différentes techniques.',
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
        </svg>
      ),
      link: '/pentest/password-cracker',
      category: 'authentication',
      difficulty: 'intermediate'
    },
    {
      id: 8,
      title: 'Scanner de Vulnérabilités Réseau',
      description: 'Identifiez les vulnérabilités dans les configurations réseau et les appareils.',
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" className="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
        </svg>
      ),
      link: '/pentest/network-vulnerability-scanner',
      category: 'network',
      difficulty: 'beginner'
    }
  ];

  const categories = [
    { id: 'all', name: 'Tous' },
    { id: 'reconnaissance', name: 'Reconnaissance' },
    { id: 'web', name: 'Web' },
    { id: 'network', name: 'Réseau' },
    { id: 'exploitation', name: 'Exploitation' },
    { id: 'authentication', name: 'Authentification' }
  ];

  const difficulties = [
    { id: 'all', name: 'Tous niveaux' },
    { id: 'beginner', name: 'Débutant' },
    { id: 'intermediate', name: 'Intermédiaire' },
    { id: 'advanced', name: 'Avancé' }
  ];

  const filteredTools = tools
    .filter(tool => activeCategory === 'all' || tool.category === activeCategory)
    .filter(tool => activeDifficulty === 'all' || tool.difficulty === activeDifficulty);

  return (
    <div className="min-h-screen bg-gray-50 py-12">
      <div className="container mx-auto px-4">
        <h1 className="text-3xl font-bold text-center mb-8">Outils de Pentesting</h1>
        
        <div className="bg-red-50 border-l-4 border-red-500 p-4 mb-8">
          <div className="flex">
            <div className="flex-shrink-0">
              <svg className="h-5 w-5 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
              </svg>
            </div>
            <div className="ml-3">
              <p className="text-sm text-red-700">
                <strong>Attention:</strong> Ces outils sont fournis uniquement à des fins éducatives et pour tester vos propres systèmes. 
                L'utilisation de ces outils contre des systèmes sans autorisation explicite est illégale et peut entraîner des poursuites judiciaires.
              </p>
            </div>
          </div>
        </div>
        
        {/* Filters */}
        <div className="bg-white rounded-lg shadow-md p-6 mb-8">
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <h3 className="text-lg font-medium mb-3">Catégorie</h3>
              <div className="flex flex-wrap gap-2">
                {categories.map(category => (
                  <button
                    key={category.id}
                    onClick={() => setActiveCategory(category.id)}
                    className={`px-3 py-1 rounded-full text-sm font-medium transition-colors ${
                      activeCategory === category.id
                        ? 'bg-primary text-white'
                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                    }`}
                  >
                    {category.name}
                  </button>
                ))}
              </div>
            </div>
            
            <div>
              <h3 className="text-lg font-medium mb-3">Niveau de difficulté</h3>
              <div className="flex flex-wrap gap-2">
                {difficulties.map(difficulty => (
                  <button
                    key={difficulty.id}
                    onClick={() => setActiveDifficulty(difficulty.id)}
                    className={`px-3 py-1 rounded-full text-sm font-medium transition-colors ${
                      activeDifficulty === difficulty.id
                        ? 'bg-primary text-white'
                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                    }`}
                  >
                    {difficulty.name}
                  </button>
                ))}
              </div>
            </div>
          </div>
        </div>
        
        {/* Tools Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {filteredTools.map(tool => (
            <div key={tool.id} className="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
              <div className="p-6">
                <div className="flex justify-between items-start mb-4">
                  <div className="text-primary">{tool.icon}</div>
                  <span className={`text-xs font-semibold px-2 py-1 rounded-full ${
                    tool.difficulty === 'beginner' ? 'bg-green-100 text-green-800' :
                    tool.difficulty === 'intermediate' ? 'bg-yellow-100 text-yellow-800' :
                    'bg-red-100 text-red-800'
                  }`}>
                    {tool.difficulty === 'beginner' ? 'Débutant' : 
                     tool.difficulty === 'intermediate' ? 'Intermédiaire' : 'Avancé'}
                  </span>
                </div>
                <h3 className="text-xl font-semibold mb-2">{tool.title}</h3>
                <p className="text-gray-600 mb-4">{tool.description}</p>
                <Link to={tool.link} className="text-accent hover:text-primary font-medium flex items-center">
                  Accéder à l'outil
                  <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
                    <path fillRule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clipRule="evenodd" />
                  </svg>
                </Link>
              </div>
            </div>
          ))}
        </div>
        
        {filteredTools.length === 0 && (
          <div className="bg-white rounded-lg shadow-md p-8 text-center">
            <p className="text-gray-600">Aucun outil ne correspond aux filtres sélectionnés.</p>
            <button 
              onClick={() => {
                setActiveCategory('all');
                setActiveDifficulty('all');
              }}
              className="mt-4 bg-primary hover:bg-primary/80 text-white font-medium py-2 px-4 rounded-md transition-colors"
            >
              Réinitialiser les filtres
            </button>
          </div>
        )}
        
        {/* Resources Section */}
        <div className="mt-16">
          <h2 className="text-2xl font-bold text-center mb-6">Ressources d'apprentissage</h2>
          <div className="bg-white rounded-lg shadow-md p-6">
            <p className="text-gray-600 mb-6">
              Pour utiliser ces outils de manière responsable et efficace, nous vous recommandons de consulter les ressources suivantes :
            </p>
            <ul className="space-y-3">
              <li className="flex items-start">
                <svg className="h-5 w-5 text-primary mt-0.5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
                </svg>
                <span className="text-gray-700">OWASP (Open Web Application Security Project) - Guide des meilleures pratiques de sécurité web</span>
              </li>
              <li className="flex items-start">
                <svg className="h-5 w-5 text-primary mt-0.5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
                </svg>
                <span className="text-gray-700">Cours en ligne sur la sécurité informatique et le pentesting éthique</span>
              </li>
              <li className="flex items-start">
                <svg className="h-5 w-5 text-primary mt-0.5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
                </svg>
                <span className="text-gray-700">Plateformes d'entraînement comme HackTheBox, TryHackMe et VulnHub</span>
              </li>
              <li className="flex items-start">
                <svg className="h-5 w-5 text-primary mt-0.5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
                </svg>
                <span className="text-gray-700">Documentation officielle des outils de sécurité comme Metasploit, Burp Suite et Wireshark</span>
              </li>
            </ul>
          </div>
        </div>
        
        {/* Legal Disclaimer */}
        <div className="mt-10 bg-gray-100 rounded-lg p-6 border border-gray-300">
          <h3 className="text-lg font-semibold mb-3">Avertissement légal</h3>
          <p className="text-gray-700 text-sm">
            Les outils fournis sur cette plateforme sont destinés uniquement à des fins éducatives et de test de sécurité légitime. 
            L'utilisateur est entièrement responsable de s'assurer qu'il dispose des autorisations nécessaires avant d'utiliser 
            ces outils sur un système ou un réseau. L'utilisation non autorisée de ces outils peut constituer une violation 
            des lois locales, nationales et internationales. Les développeurs de cette plateforme déclinent toute responsabilité 
            pour une utilisation abusive ou illégale de ces outils.
          </p>
        </div>
      </div>
    </div>
  );
};

export default Pentest; 